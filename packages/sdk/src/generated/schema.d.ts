/* eslint-disable */
// Generated by openapi-typescript (hand-authored fallback).

export interface World {
  id: string;
  name: string;
  description?: string | null;
  createdAt: string;
}

export interface Branch {
  id: string;
  worldId: string;
  name: string;
  headCommitId?: string | null;
  createdAt: string;
}

export interface BranchSummary {
  name: string;
  headCommitId?: string | null;
  updatedAt: string;
}

export interface Unit {
  id: string;
  type: string;
  title: string;
  fields: Record<string, unknown>;
  refs?: Record<string, unknown>;
  meta?: Record<string, unknown>;
}

export interface Commit {
  id: string;
  worldId: string;
  message: string;
  parentCommitId?: string | null;
  parentCommitId2?: string | null;
  createdAt: string;
}

export interface DiffChange {
  unitId: string;
  path: string;
  from: unknown;
  to: unknown;
}

export interface MergeConflict {
  unitId: string;
  path: string;
  base: unknown;
  ours: unknown;
  theirs: unknown;
}

export interface WorldListResponse {
  worlds: World[];
}

export interface WorldDetailResponse extends World {
  branches: BranchSummary[];
}

export interface BranchListResponse {
  branches: BranchSummary[];
}

export interface CommitListResponse {
  commits: Commit[];
  nextCursor?: string | null;
}

export interface UnitListResponse {
  units: Unit[];
}

export interface DiffResponse {
  changes: DiffChange[];
}

export interface MergePreviewResponse {
  conflicts: MergeConflict[];
  previewMergedUnits: Record<string, Unit>;
}

export interface MergeSuccessResponse {
  mergeCommitId: string;
}

export interface CreateWorldBody {
  name: string;
  description?: string;
}

export interface CreateBranchBody {
  name: string;
  sourceBranch?: string;
  sourceCommitId?: string;
}

export interface CreateUnitBody {
  branchName: string;
  unit: Omit<Unit, "id"> & { id?: string };
}

export interface CreateCommitBody {
  branchName: string;
  message: string;
}

export interface DiffQuery {
  from: string;
  to: string;
}

export interface BranchListQuery {
  name?: string;
}

export interface CommitListQuery {
  branchName: string;
  limit?: number;
  cursor?: string;
}

export interface UnitListQuery {
  ref: string;
  type?: string;
}

export interface UnitDetailQuery {
  ref: string;
}

export interface MergeResolution {
  unitId: string;
  path: string;
  choice: "ours" | "theirs" | "manual";
  value?: unknown;
}

export interface MergeBody {
  oursBranch: string;
  theirsBranch: string;
  resolutions?: MergeResolution[];
}

export interface paths {
  "/v1/worlds": {
    get: {
      responses: {
        200: {
          content: {
            "application/json": WorldListResponse;
          };
        };
      };
    };
    post: {
      requestBody: {
        content: {
          "application/json": CreateWorldBody;
        };
      };
      responses: {
        201: {
          content: {
            "application/json": World;
          };
        };
      };
    };
  };
  "/v1/worlds/{worldId}": {
    get: {
      parameters: {
        path: {
          worldId: string;
        };
      };
      responses: {
        200: {
          content: {
            "application/json": WorldDetailResponse;
          };
        };
      };
    };
  };
  "/v1/worlds/{worldId}/branches": {
    get: {
      parameters: {
        path: {
          worldId: string;
        };
        query?: BranchListQuery;
      };
      responses: {
        200: {
          content: {
            "application/json": BranchListResponse;
          };
        };
      };
    };
    post: {
      parameters: {
        path: {
          worldId: string;
        };
      };
      requestBody: {
        content: {
          "application/json": CreateBranchBody;
        };
      };
      responses: {
        201: {
          content: {
            "application/json": Branch;
          };
        };
      };
    };
  };
  "/v1/worlds/{worldId}/commits": {
    get: {
      parameters: {
        path: {
          worldId: string;
        };
        query: CommitListQuery;
      };
      responses: {
        200: {
          content: {
            "application/json": CommitListResponse;
          };
        };
      };
    };
    post: {
      parameters: {
        path: {
          worldId: string;
        };
      };
      requestBody: {
        content: {
          "application/json": CreateCommitBody;
        };
      };
      responses: {
        201: {
          content: {
            "application/json": Commit;
          };
        };
      };
    };
  };
  "/v1/worlds/{worldId}/units": {
    get: {
      parameters: {
        path: {
          worldId: string;
        };
        query: UnitListQuery;
      };
      responses: {
        200: {
          content: {
            "application/json": UnitListResponse;
          };
        };
      };
    };
    post: {
      parameters: {
        path: {
          worldId: string;
        };
      };
      requestBody: {
        content: {
          "application/json": CreateUnitBody;
        };
      };
      responses: {
        201: {
          content: {
            "application/json": Unit;
          };
        };
      };
    };
  };
  "/v1/worlds/{worldId}/units/{unitId}": {
    get: {
      parameters: {
        path: {
          worldId: string;
          unitId: string;
        };
        query: UnitDetailQuery;
      };
      responses: {
        200: {
          content: {
            "application/json": Unit;
          };
        };
      };
    };
  };
  "/v1/worlds/{worldId}/diff": {
    get: {
      parameters: {
        path: {
          worldId: string;
        };
        query: DiffQuery;
      };
      responses: {
        200: {
          content: {
            "application/json": DiffResponse;
          };
        };
      };
    };
  };
  "/v1/worlds/{worldId}/merge": {
    post: {
      parameters: {
        path: {
          worldId: string;
        };
      };
      requestBody: {
        content: {
          "application/json": MergeBody;
        };
      };
      responses: {
        200: {
          content: {
            "application/json": MergePreviewResponse;
          };
        };
        201: {
          content: {
            "application/json": MergeSuccessResponse;
          };
        };
      };
    };
  };
}
